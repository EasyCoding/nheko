From 0039fb9c7a0b2e6b772dacd7e9c4bdb905a95f4f Mon Sep 17 00:00:00 2001
From: Vitaly Zaitsev <vitaly@easycoding.org>
Date: Thu, 1 Feb 2018 22:25:32 +0100
Subject: [PATCH] Added AppData manifest file for Gnome Software.

Signed-off-by: Vitaly Zaitsev <vitaly@easycoding.org>
---
 CMakeLists.txt              |  1 +
 resources/nheko.appdata.xml | 23 +++++++++++++++++++++++
 2 files changed, 24 insertions(+)
 create mode 100644 resources/nheko.appdata.xml

diff --git a/CMakeLists.txt b/CMakeLists.txt
index c894658..16b865c 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -353,6 +353,7 @@ if(UNIX AND NOT APPLE)
     install (FILES "resources/nheko-256.png" DESTINATION "${CMAKE_INSTALL_DATAROOTDIR}/icons/hicolor/256x256/apps" RENAME "nheko.png")
     install (FILES "resources/nheko-512.png" DESTINATION "${CMAKE_INSTALL_DATAROOTDIR}/icons/hicolor/512x512/apps" RENAME "nheko.png")
     install (FILES "resources/nheko.desktop" DESTINATION "${CMAKE_INSTALL_DATAROOTDIR}/applications")
+    install (FILES "resources/nheko.appdata.xml" DESTINATION "${CMAKE_INSTALL_DATAROOTDIR}/metainfo")
 
     if(NOT TARGET uninstall)
         configure_file(
diff --git a/resources/nheko.appdata.xml b/resources/nheko.appdata.xml
new file mode 100644
index 0000000..7691fa8
--- /dev/null
+++ b/resources/nheko.appdata.xml
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!-- Copyright 2018 Vitaly Zaitsev <vitaly@easycoding.org> -->
+<component type="desktop">
+  <id>nheko.desktop</id>
+  <metadata_license>CC0-1.0</metadata_license>
+  <project_license>GPLv3+ and Public Domain and MIT and Boost and Apache License and CC-BY-4.0</project_license>
+  <name>nheko</name>
+  <summary>Desktop client for the Matrix protocol</summary>
+  <description>
+    <p>
+      The motivation behind the project is to provide a native desktop app
+      for Matrix that feels more like a mainstream chat app (Riot,
+      Telegram etc) and less like an IRC client.
+    </p>
+  </description>
+  <screenshots>
+    <screenshot type="default">
+      <image>https://dl.dropboxusercontent.com/s/umojysx3gv80qs9/nheko-default-theme.png</image>
+    </screenshot>
+  </screenshots>
+  <url type="homepage">https://github.com/mujx/nheko</url>
+  <update_contact>https://github.com/mujx</update_contact>
+</component> 
